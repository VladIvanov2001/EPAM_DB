DEFINE DATA_TBS_NAME = &&1
DEFINE CURS = '_DATA'

CREATE TABLE USER_PLAYLIST 
(
  ID_UP INT GENERATED ALWAYS AS IDENTITY INCREMENT BY 1 START WITH 1 MINVALUE 1 NOMAXVALUE NOT NULL 
, ID_USER INT NOT NULL 
, ID_PLAYLIST INT NOT NULL 
, CONSTRAINT USER_PLAYLIST_PK PRIMARY KEY 
  (
    ID_UP 
  )
  ENABLE 
)
TABLESPACE &&DATA_TBS_NAME&&CURS;

COMMENT ON COLUMN USER_PLAYLIST.ID_UP IS 'id for user playlist';

COMMENT ON COLUMN USER_PLAYLIST.ID_USER IS 'foreign key fromusers ';

COMMENT ON COLUMN USER_PLAYLIST.ID_PLAYLIST IS 'foreign key from playlist';

ALTER TABLE USER_PLAYLIST ADD CONSTRAINT fk_USER_PLAYLIST_ID_USER FOREIGN KEY(ID_USER)
REFERENCES Users (ID_USER);

ALTER TABLE USER_PLAYLIST ADD CONSTRAINT fk_USER_PLAYLIST_ID_PLAYLIST FOREIGN KEY(ID_PLAYLIST)
REFERENCES PLAYLIST (ID_PLAYLIST);

CREATE UNIQUE INDEX USER_PLAYLIST_ID_PLAYLIST ON USER_PLAYLIST (ID_PLAYLIST ASC);
CREATE UNIQUE INDEX USER_PLAYLIST_ID_USER ON USER_PLAYLIST (ID_USER ASC);